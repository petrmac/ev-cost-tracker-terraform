# Alternative approach: Use this file instead of putting sensitive data in secrets.tfvars
# Rename this to secrets-local.tf and add to .gitignore

locals {
  # Read files at runtime
  git_ssh_key_content     = file("${path.module}/flux-key")
  git_ssh_key_pub_content = file("${path.module}/flux-key.pub")
  age_key_content        = try(file("${path.module}/age.agekey"), "")
}

# Override the variables with local values
# This approach allows using the file() function
variable "git_ssh_key_override" {
  default = ""
}

variable "git_ssh_key_pub_override" {
  default = ""
}

variable "age_key_override" {
  default = ""
}